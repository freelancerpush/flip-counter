/* eslint-disable */

/*
 * Flip v1.7.0 - A Flip view for Tick Counter
 * Copyright (c) 2018 PQINA - https://pqina.nl/flip
 */
!function(t){"use strict";t&&(t.tick||(t.tick=[]),t.tick.push(["view","flip",function(){if(!t)var t={};var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}();return t.exports=function(t){var r=t.DOM,i=(t.Animation.animate,t.Extension),n=t.Date.performance,o=t.View,s=o.rooter,l=o.destroyer,c=o.drawer,p=o.updater,f=o.styler,u=i.getExtension(i.Type.EASING_FUNCTION,"ease-out-cubic"),h=i.getExtension(i.Type.EASING_FUNCTION,"ease-out-sine"),d=function(t){if(t.isInitialValue()){t.root.textContent="",t.spacer=r.create("span","tick-flip-spacer"),t.root.appendChild(t.spacer);var e=r.create("span","tick-flip-shadow-top tick-flip-shadow tick-flip-front"),a=r.create("span","tick-flip-shadow-bottom tick-flip-shadow tick-flip-back");t.root.appendChild(e),t.root.appendChild(a),t.shadowCard=r.create("span","tick-flip-card-shadow"),t.root.appendChild(t.shadowCard)}if(t.spacer.textContent=t.value,t.isInitialValue()||r.visible(t.root)){var o=t.cards[t.cards.length-1];if(o&&(o.waiting=!1,o.offset=n(),o.back=t.value),t.isInitialValue()){var s=new k;s.back=t.value,s.offset=null,s.progress=1,t.root.insertBefore(s.root,t.root.firstChild),t.cards.push(s)}var l=new k;if(l.offset=null,l.progress=0,l.visual_progress=0,l.waiting=!0,l.front=t.value,l.rotate(0),t.root.insertBefore(l.root,t.root.firstChild),t.cards.push(l),!t.animating){t.animating=!0;var c=i.getExtension(i.Type.EASING_FUNCTION,t.style.flipEasing);!function e(){var a=t.cards.filter(function(t){return!t.done&&!t.waiting});if(0!==a.length){a.forEach(function(e){null!==e.offset&&(e.progress=(n()-e.offset)/t.style.flipDuration),e.progress>=1&&(e.progress=1,e.done=!0),e.visual_progress=c(e.progress)}),a.reverse().forEach(function(t,e){var r=a[e-1];r&&t.visual_progress<=r.visual_progress&&(t.visual_progress=r.visual_progress+.01)}),a.reverse(),t.cards.forEach(function(e,a){var r=1-2*Math.abs(e.visual_progress-.5),i=1-(e.visual_progress-.5)/.5;e.shadowFront=r,e.highlightBack=i;var n=t.cards[a+1];n&&e.visual_progress>.5&&e.visual_progress>0&&(e.shadowBack=u(n.visual_progress))}),a.forEach(function(t,e){var a=t.visual_progress;a>.5&&!t.done?t.root.style.zIndex=10+e:t.root.style.removeProperty("z-index"),t.rotate(-180*a)});var i=0,o=1;a.forEach(function(t){var e=Math.abs(t.visual_progress-.5);e<o&&(o=e,i=t.visual_progress)});var s=h(i<.5?i/.5:(1-i)/.5);t.shadowCard.style.opacity=s,r.transform(t.shadowCard,"scaleY",s),t.cards.filter(function(t){return t.done}).slice(0,-1).forEach(function(e){t.cards=t.cards.filter(function(t){return t!==e}),e.root.parentNode&&t.root.removeChild(e.root)}),requestAnimationFrame(e)}else t.animating=!1}()}}else t.cards.forEach(function(e){e.back=t.value,e.front=t.value})},k=function(){function t(){e(this,t),this._root=r.create("span","tick-flip-card");var a=r.create("span","tick-flip-panel-front tick-flip-front tick-flip-panel"),i=r.create("span","tick-flip-panel-front-text"),n=r.create("span","tick-flip-panel-text-wrapper");i.appendChild(n);var o=r.create("span","tick-flip-panel-front-shadow");a.appendChild(i),a.appendChild(o);var s=r.create("span","tick-flip-panel-back tick-flip-back tick-flip-panel"),l=r.create("span","tick-flip-panel-back-text"),c=r.create("span","tick-flip-panel-text-wrapper");l.appendChild(c);var p=r.create("span","tick-flip-panel-back-highlight"),f=r.create("span","tick-flip-panel-back-shadow");s.appendChild(l),s.appendChild(p),s.appendChild(f),this._root.appendChild(a),this._root.appendChild(s),this._front=a,this._back=s,this._shadowFront=o,this._shadowBack=f,this._highlightBack=p,this._textBack=c,this._textFront=n,this._frontValue=null,this._backValue=null}return a(t,[{key:"rotate",value:function(t){this._front.style.transform="rotateX("+t+"deg)",this._back.style.transform="rotateX("+(-180+t)+"deg)"}},{key:"root",get:function(){return this._root}},{key:"front",set:function(t){this._frontValue=t,this._textFront.textContent=t},get:function(){return this._frontValue}},{key:"back",set:function(t){this._backValue=t,this._textBack.textContent=t},get:function(){return this._backValue}},{key:"highlightBack",set:function(t){this._highlightBack.style.opacity=t}},{key:"shadowBack",set:function(t){this._shadowBack.style.opacity=t}},{key:"shadowFront",set:function(t){this._shadowFront.style.opacity=t}}]),t}();return function(t){var e={cards:[],lastCard:null,initialCard:null,shadowAbove:null,shadowBelow:null,shadowCard:null,currentValue:null,lastValue:null,front:null,back:null};return Object.assign({},s(e,t,"flip"),p(e),f(e,{flipDuration:800,flipEasing:"ease-out-bounce"}),c(e,d),l(e))}},t.exports.identifier={name:"flip",type:"view"},t.exports}()]))}(window.jQuery);